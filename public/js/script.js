const answers_no = {
    english: [
        "No",
        "‡¥∂‡µÜ‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ???",
        "‡¥í‡¥±‡¥™‡µç‡¥™‡¥æ‡¥£‡µã ‡¥∂‡µÅ‡¥ü‡µç‡¥ü‡µÇ üò≠üò≠",
        "onnuuuuuude onn aaloych nokkkikkee üòí",
        "‡¥á‡¥®‡¥ø ‡¥á‡¥∞‡µÅ‡¥§‡µç‡¥§‡¥ø ‡¥í‡¥®‡µç‡¥®‡µç ‡¥Ü‡¥≤‡µã‡¥ö‡¥ø‡¥ö‡µç‡¥ö‡µá ü•±ü´§",
        "‡¥í‡¥∞‡µÅ zudio ‡¥ü‡µã‡¥™‡µç ‡¥Æ‡µá‡¥ü‡¥ø‡¥ö‡µç‡¥ö‡µÅ ‡¥§‡¥®‡µç‡¥®‡¥æ‡¥≤‡µã ??? üëïüëö",
        "‡¥é‡¥®‡µç‡¥§‡¥æ ‡¥ï‡µä‡¥ö‡µç‡¥ö‡µÅ ‡¥Æ‡µà‡¥∞‡µá ‡¥á‡¥ô‡µç‡¥ô‡¥®‡µÜ ....ü´§ü´§ü´§",
        "‡¥á‡¥§‡µç laast aanee ‡¥á‡¥®‡¥ø ‡¥û‡¥æ‡µª ‡¥ö‡µã‡¥§‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥≤‡µç‡¥≤ üòí",
        "‡¥™‡¥ø‡¥£‡¥ï‡µç‡¥ï‡¥Æ‡¥æ‡¥£‡µã  ??? üôÑ",
        "‡¥é‡¥®‡µç‡¥®‡µÜ ‡¥á‡¥∑‡µç‡¥ü‡¥µ‡¥≤‡µç‡¥≤‡µá...ü•≤",
        "‡¥ö‡¥ï‡µç‡¥ï‡¥∞ ‡¥â‡¥Æ‡µç‡¥Æ  ‡¥§‡¥®‡µç‡¥®‡¥æ‡¥≤‡µã ??? üêü",
        "Fish Biriyani ‡¥µ‡¥æ‡¥ô‡µç‡¥ô‡¥ø‡¥ö‡µç‡¥ö‡µÅ ‡¥§‡¥®‡µç‡¥®‡¥æ‡¥≤‡µã ??? üêü",
        "‡¥ì‡¥ï‡µç‡¥ï‡µá ‡¥µ‡µá‡¥£‡µç‡¥ü‡µá ‡¥µ‡µá‡¥£‡µç‡¥ü. ‡¥é‡¥®‡µç‡¥®‡µÜ ‡¥™‡µã‡¥≤‡µÜ ‡¥í‡¥∞‡µÅ ‡¥§‡¥ô‡µç‡¥ï‡¥ï‡µç‡¥ï‡µÅ‡¥ü‡¥Ç ‡¥á‡¥®‡¥ø ‡¥µ‡µá‡¥±‡µÜ ‡¥ï‡¥ø‡¥ü‡µç‡¥ü‡¥ø‡¥≤‡µç‡¥≤‡µá‡¥ü‡µç‡¥ü‡µã ... ",
        "OK. ‡¥á‡¥®‡¥ø ‡¥û‡¥æ‡µª ‡¥í‡¥∞‡µÅ ‡¥∂‡¥≤‡µç‡¥Ø‡¥Ç ‡¥Ü‡¥µ‡¥ø‡¥≤‡µç‡¥≤ ",
    ],
    french: [
        "Non",
        "Tu es s√ªr‚ÄØ?",
        "Tu es vraiment s√ªr ??",
        "Tu es vraiment vraiment s√ªr ???",
        "R√©fl√©chis encore?",
        "Tu ne crois pas aux deuxi√®mes chances‚ÄØ?",
        "Pourquoi tu es si froid?",
        "Peut-√™tre, on peut en parler‚ÄØ?",
        "Je ne vais pas demander encore une fois!",
        "D'accord, maintenant ca me fait mal!",
        "Tu es juste m√©chant!",
        "Pourquoi tu me fais √ßa?",
        "Donnez-moi une chance plz!",
        "Je te supplie d'arr√™ter!",
        "D'accord, recommen√ßons.."
    ],
    thai: [
        "‡πÑ‡∏°‡πà‡∏≠‡πà‡∏∞",
        "‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏´‡∏£‡∏≠‡∏Ñ‡∏∞?",
        "‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏∞?",
        "‡∏≠‡∏¢‡πà‡∏≤‡∏ö‡∏≠‡∏Å‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏™‡∏∏‡∏î‡πÜ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÜ ?",
        "‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡∏î‡∏π‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏™‡∏¥‡∏Ñ‡∏∞..",
        "‡∏Ç‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á‡∏ó‡∏µ‡∏Ñ‡πà‡∏∞..",
        "‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏¢‡πá‡∏ô‡∏ä‡∏≤‡∏™‡∏¥‡∏Ñ‡∏∞ ‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏Å‡πÜ",
        "‡∏Ç‡∏≠‡∏£‡πâ‡∏≠‡∏á‡∏ô‡∏∞‡∏Ñ‡∏∞",
        "‡∏ô‡πâ‡∏≤‡∏≤‡∏≤‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ",
        "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ‡πÄ‡∏≠‡∏≤‡∏ô‡∏∞ ‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏Å‡πÜ",
        "‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡∏á‡∏µ‡πâ‡πÜ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏≠‡∏Ñ‡∏∞",
        "‡∏Æ‡∏∑‡∏≠‡∏≠‡∏≠‡∏≠‡∏≠",
        "‡∏Ç‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏®‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡πà‡∏∞!",
        "‡∏Ç‡∏≠‡∏£‡πâ‡∏≠‡∏á‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏≤‡∏≤",
        "‡πÇ‡∏≠‡πÄ‡∏Ñ‡∏Ñ‡πà‡∏∞.. ‡∏á‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà !"
    ]
};

answers_yes = {
    "english": "Yes",
    "french": "Oui",
    "Thailand": "‡πÄ‡∏¢‡πà ‡∏Ñ‡∏∑‡∏ô‡∏î‡∏µ‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡πâ‡∏≤"
}

let language = "english"; // Default language is English
const no_button = document.getElementById('no-button');
const yes_button = document.getElementById('yes-button');
let i = 1;
let size = 50;
let clicks = 0;

// Set default zoom level to 75%
document.body.style.zoom = "0.80";


// All images available for the collage background
const collageImages = [
    "public/our-images/IMG_20240705_205648684.jpg",
    "public/our-images/IMG_20240722_002328449_HDR.jpg",
    "public/our-images/IMG_20240815_112533484_HDR.jpg",
    "public/our-images/IMG_20240818_105258781_HDR.jpg",
    "public/our-images/IMG_20240818_105311298_HDR.jpg",
    "public/our-images/IMG_20240910_221152563_HDR.jpg",
    "public/our-images/IMG_20240914_115028133_HDR.jpg",
    "public/our-images/IMG_20241019_091235635_HDR.jpg",
    "public/our-images/IMG_20241022_222318469.jpg",
    "public/our-images/IMG_20241025_233555071_HDR.jpg",
    "public/our-images/IMG_20241025_233606619_HDR.jpg",
    "public/our-images/IMG_20241026_105015906_HDR.jpg",
    "public/our-images/IMG_20241031_235241774_HDR.jpg",
    "public/our-images/IMG_20241115_082930189_HDR.jpg",
    "public/our-images/IMG_20250110_024311057.jpg",
    "public/our-images/IMG_20250120_232311473_HDR.jpg",
    "public/our-images/IMG_20250206_104516322_HDR.jpg",
    "public/our-images/IMG_20250304_213257029_HDR.jpg",
    "public/our-images/IMG_20260103_142605367_HDR.jpg",
    "public/our-images/IMG_20260117_150610759.jpg",
    "public/our-images/IMG_20260117_150707251_HDR.jpg",
    "public/our-images/IMG_20260124_134425335_HDR.jpg",
    "public/our-images/IMG_20260124_164554508_HDR.jpg",
    "public/our-images/IMG-20240720-WA0048.jpg",
    "public/our-images/IMG-20240722-WA0056.jpg",
    "public/our-images/IMG-20240808-WA0000.jpg",
    "public/our-images/IMG-20240808-WA0002.jpg",
    "public/our-images/IMG-20240810-WA0006.jpg",
    "public/our-images/IMG-20240905-WA0016.jpg",
    "public/our-images/IMG-20240928-WA0021.jpg",
    "public/our-images/IMG-20241021-WA0025.jpg"
];

function updateCollageBackground(options = {}) {
    const rows = options.rows || 2; // default 3 rows
    const cols = options.cols || 8; // default 6 columns
    const images = options.images || collageImages;
    const neededTiles = rows * cols;

    let collage = document.getElementById("collage-background");
    if (!collage) {
        collage = document.createElement("div");
        collage.id = "collage-background";
        document.body.prepend(collage);
    }

    // Clear previous collage
    collage.innerHTML = "";

    if (!images.length) return;

    // Adjust grid size based on requested rows/cols
    collage.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;
    collage.style.gridTemplateRows = `repeat(${rows}, 1fr)`;

    // Create a shuffled copy of the images
    const shuffled = [...images].sort(() => Math.random() - 0.5);
    const selected = shuffled.slice(0, Math.min(neededTiles, shuffled.length));

    // If there are fewer than neededTiles images, repeat some
    while (selected.length < neededTiles) {
        selected.push(
            images[Math.floor(Math.random() * images.length)]
        );
    }

    selected.forEach((src) => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = "Collage image";
        collage.appendChild(img);
    });
}

// Initial load: show a 18 * 4 grid of the specific image
updateCollageBackground({
    rows: 4,
    cols: 18,
    images: ["public/our-images/IMG_20260124_134425335_HDR.jpg"]
});

no_button.addEventListener('click', () => {
    // Update randomized collage background on every click
    updateCollageBackground();

    // Change banner source
    let banner = document.getElementById('banner');
    if (clicks === 0) {
        banner.src = "public/images/no.gif";
        refreshBanner();
    }
    clicks++;
    // increase button height and width gradually to 250px
    const sizes = [40, 50, 30, 35, 45]
    const random = Math.floor(Math.random() * sizes.length);
    size += sizes[random]
    yes_button.style.height = `${size}px`;
    yes_button.style.width = `${size}px`;
    let total = answers_no[language].length;
    // change button text
    if (i < total - 1) {
        no_button.innerHTML = answers_no[language][i];
        i++;
    } else if (i === total - 1) {
        alert(answers_no[language][i]);
        i = 1;
        no_button.innerHTML = answers_no[language][0];
        yes_button.innerHTML = answers_yes[language];
        yes_button.style.height = "50px";
        yes_button.style.width = "50px";
        size = 50;
    }
});

yes_button.addEventListener('click', () => {
    // Update randomized collage background on every click
    updateCollageBackground();

    // change banner gif path
    let banner = document.getElementById('banner');
    banner.src = "public/images/yes.gif";
    refreshBanner();
    // hide buttons div
    let buttons = document.getElementsByClassName('buttons')[0];
    buttons.style.display = "none";
    // show message div
    let message = document.getElementsByClassName('message')[0];
    message.style.display = "block";
});

function refreshBanner() {
    // Reload banner gif to force load  
    let banner = document.getElementById('banner');
    let src = banner.src;
    banner.src = '';
    banner.src = src;
}

function changeLanguage() {
    const selectElement = document.getElementById("language-select");
    const selectedLanguage = selectElement.value;
    language = selectedLanguage;

    // Update question heading
    const questionHeading = document.getElementById("question-heading");
    if (language === "french") {
        questionHeading.textContent = "Tu veux √™tre mon valentin?";
    } else if (language === "thai") {
        questionHeading.textContent = "‡∏Ñ‡∏∑‡∏ô‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡πà‡∏∞‡∏õ‡πà‡∏≤‡∏ß?";
    } else {
        questionHeading.textContent = "Will you be my valentine?";
    }

    // Reset yes button text
    yes_button.innerHTML = answers_yes[language];

    // Reset button text to first in the new language
    if (clicks === 0) {
        no_button.innerHTML = answers_no[language][0];
    } else {
        no_button.innerHTML = answers_no[language][clicks];
    }

    // Update success message
    const successMessage = document.getElementById("success-message");
    if (language === "french") {
        successMessage.textContent = "Yepppie, √† bient√¥t :3";
    } else if (language === "thai") {
        successMessage.textContent = "‡∏Æ‡∏π‡πÄ‡∏£‡πà ‡∏Ñ‡∏∑‡∏ô‡∏î‡∏µ‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡πâ‡∏≤ :3";
    } else {
        successMessage.textContent = "Yepppie, see you sooonnn :3";
    }
}